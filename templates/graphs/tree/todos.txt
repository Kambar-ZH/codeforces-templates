1. Refactor auxiliary tree implementation